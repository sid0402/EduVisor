    <style>
        
        body{
            margin: 0;
            font-family: Arial, sans-serif;
            display: flex;
            height: 100vh;
            background-color: #8F8FDB;
            color: #333333;
        }

        #left {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #29245E;
            box-shadow: 5px 0 5px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
        }

        #left .box {
            padding: 20px;
            border-bottom: 1px solid #aaa;
            cursor: pointer;
        }

        #right {
            flex: 3;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-around;
            padding: 20px;
            background: linear-gradient(-45deg, #29245E, #3A3A6A, #8F8FDB, #29245E);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
        }

        .box {
            width: 80%;
            background-color: #B5B4DE;
            margin: 10px;
            padding: 20px;
            text-align: center;
            border: 1px solid #bdbdbd;
            border-radius: 30px;
            box-shadow: 6px 6px #aaa;
        }

        .content-container {
            width: 80%;
            height: 40%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        img {
            max-width: 100%;
            max-height: 100%;
        }
        
        #right .content-container {
            flex-basis: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #B5B4DE; 
            border-radius: 30px;
            margin-bottom: 20px;
            padding: 20px;
        }

        .lectures {
            color:#333333;
        }
        .content-container{
            margin:30px;
            border-radius: 40px;
            padding:5px;
        }


        body {
        font-family: Arial, sans-serif;
        background: linear-gradient(-45deg, #29245E, #3A3A6A, #8F8FDB, #29245E);
        background-size: 400% 400%;
        animation: gradientBG 15s ease infinite;
        color: #EDEDED;
        margin: 0;
        padding: 0;
    }

    @keyframes gradientBG {
        0% {
            background-position: 0% 50%;
        }
        50% {
            background-position: 100% 50%;
        }
        100% {
            background-position: 0% 50%;
        }
    }

    h1, h2 {
        font-family: Arial, sans-serif;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    h1 {
        text-align: center;
        font-size: 3em;
        margin-bottom: 40px;
    }

    .container {
        max-width: 1300px;
        margin: auto;
        padding: 30px 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .boxes {
        display: flex;
        justify-content: space-evenly;
        align-items: center;
        flex-wrap: wrap;
        width: 100%;
        margin-bottom: 50px;
    }

    .box2, .sentiment-graph, .feedback {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        border-radius: 30px;
        background-color: #3A3A6A;
        color: #EDEDED;
        transition: all 0.3s;
        box-shadow: 0px 5px 20px rgba(0, 0, 0, 0.3);
        margin: 20px;  /* Increased margin */
        padding: 20px;
        cursor: pointer;
        overflow: hidden; /* Prevents overflow */
    }

    .box2 {
        max-width: 220px;
        height: 220px;
    }

    .box2 h2 {
        font-size: 2.2em;
        margin-bottom: 10px;
    }

    .box2 h3 {
        font-size: 0.9em;
        font-weight: bold;
    }

    .box2:hover, .sentiment-graph:hover, .feedback:hover {
        background-color: #8F8FDB; 
        transform: scale(1.1);
        box-shadow: 0px 10px 30px rgba(0, 0, 0, 0.4);
    }

    .bottom-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        flex-wrap: wrap;
    }

    .sentiment-graph, .feedback {
        flex: 1;
        max-width: calc(50% - 30px);
        height: 350px;
    }

    .graph, .text {
        width: 100%;  /* Ensuring it takes full width */
        height: 100%; /* Ensuring it takes full height */
        overflow: auto; /* Adds scrolling if content is larger than container */
    }

    .text {
        font-size: 1.3em;
        padding: 20px;
    }
    .plotly-graph-div {
    width: 100% !important;
    height: 100% !important;
}
.graph {
    width: 100%;  
    height: 100%; 
    overflow: auto; 
    position: relative; /* Add this line */
}
.home-link {
    display: block;
    width: auto;
    padding: 15px 20px;
    color: #EDEDED;
    text-decoration: none; /* Remove underline */
    margin-bottom: 10px; /* Space between the link and the next box */
    font-weight: bold; /* Make the text bold */
    cursor: pointer; /* Hand cursor on hover */
    transition: background-color 0.3s; /* Smooth transition for hover effect */
    position: absolute;
    top:0px;
    font-family: inherit;
    text-align: left;
    left:0px;
    font-size: 20px;  
    background-color: inherit;
}

.home-link:hover {
    background-color: #8F8FDB; /* Change color on hover */
}
#name {
    position: relative;
    top:10px;
}
    </style>
    <script>
document.addEventListener("DOMContentLoaded", function() {
    let lectureBoxes = document.querySelectorAll("#left .box");
    
    lectureBoxes.forEach(lectureBox => {
        lectureBox.addEventListener("click", function() {
            // Get data from the clicked lecture box
            let questions = this.getAttribute("data-question");
            let engagement = this.getAttribute("data-engament_ratio");
            let tone = this.getAttribute("data-tone_modality");
            let wpm = this.getAttribute("data-wpm");
            let improvement = this.getAttribute("data-improvement");
            let lectureId = this.getAttribute("data-lecture-id");
            let name = this.getAttribute("data-name");
            let date = this.getAttribute("data-date");
            
            // Update the boxes on the right side
            document.getElementById("question").textContent = questions;
            document.getElementById("engagement").textContent = engagement;
            document.getElementById("tone").textContent = tone;
            document.getElementById("wpm").textContent = wpm;
            document.getElementById("improvement-text").textContent = improvement;
            document.getElementById("name").textContent = name;
            document.getElementById("date").textContent = date;
            
            // Copy the content of the hidden div to the #graph container
            let graphContent = document.getElementById("graph-for-lecture-" + lectureId).innerHTML;
            document.getElementById("graph").innerHTML = graphContent;
        });
    });
});
        </script>



    <div id="left" class="lectures">
        <a href="/" class="home-link">Home</a>
        {% for lecture in lectures %}
        <div class="box" data-lecture-id="{{ lecture.id }}" data-improvement="{{ lecture.suggestion }}" data-name="{{ lecture.name }}" data-date="{{ lecture.date }}" data-question="{{ lecture.questions }}" data-engament_ratio="{{ lecture.engagement_ratio }}" data-tone_modality="{{ lecture.tone_modality }}" data-wpm="{{ lecture.wpm }}" data-name="{{ lecture.name }}" data-date="{{ lecture.created_at }}">
            <strong>Lecture Name:</strong> {{ lecture.name }} <br>
            <strong>Lecture Date:</strong> {{ lecture.created_at }}
        </div>
        <!-- Hidden div to store the graph HTML -->
        <div id="graph-for-lecture-{{ lecture.id }}" style="display: none;">
            {{ lecture.graph|safe }}
        </div>
    {% endfor %}
    </div>
    <div id="right">

        <div class="container">
            <h1 id="name"></h1>
            <h2 id="date"></h2>
        
            <div class='boxes'>
                <div class="box2 question">
                    <h3>Questions</h3>
                    <h2 id="question">{{questions}}</h2>
                </div>
                <div class="box2 engagement">
                    <h3>Engagement %</h3>
                    <h2 id="engagement">{{engagement_score}}</h2>
                </div>
                <div class="box2 tone_modulation">
                    <h3>Tone Modulation %</h3>
                    <h2 id="tone">{{tone_modulation}}</h2>
                </div>
                <div class="box2 wpm">
                    <h3>Words per Minute</h3>
                    <h2 id="wpm">{{wpm}}</h2>
                </div>
            </div>
        
            <div class="bottom-row">
                <div class="sentiment-graph">
                    <h3>Sentiment Progression Curve</h3>
                    <div class="graph" id="graph">
                    </div>
                </div>
                <div class="feedback">
                    <h3>Feedback</h3>
                    <div class="text">
                        <p id='improvement-text'>{{suggestion}}</p>
                    </div>
                </div>
    </div>